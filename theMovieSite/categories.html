<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categories</title>
    <link rel="stylesheet" href="css/style.css">
 
</head>
<body>

    
    <nav>
        <ul>
            <li data-category="home"><a href="home.html">Home</a></li>
            <li data-category="my-list"><a href="my_list.html">My List</a></li>
            <li>Categories
                <ul>
                    <li data-category="action"><a href="categories.html?category=action">Action</a></li>
                    <li data-category="comedy"><a href="categories.html?category=comedy">Comedy</a></li>
                    <li data-category="horror"><a href="categories.html?category=horror">Horror</a></li>
                    <li data-category="romantic"><a href="categories.html?category=romantic">Romantic</a></li>
                    <li data-category="musical"><a href="categories.html?category=musical">Musical</a></li>
                    <li data-category="western"><a href="categories.html?category=western">Western</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <section>
    <div id="action-gallery" class="gallery"> 
        <div class="movie" >
          <a href="movie1.html">
            <img src="images/images (1).jpeg" alt="" >
            <div class="heart-icon">❤</div>
          </a>
        </div>
        <div class="movie"  >
          <a href="movie1.html">
            <img src="images/img2.jpg" alt="" data-id="5">
            <div class="heart-icon">❤</div>
          </a>
        </div>
        <div class="movie"  >
          <a href="movie1.html">
            <img src="images/img1.jpg" alt="" data-id="5">
            <div class="heart-icon">❤</div>
          </a>
        </div>
        <div class="movie"  >
          <a href="movie1.html">
            <img src="images/img.jpg" alt="" data-id="5">
            <div class="heart-icon">❤</div>
          </a>
        </div>
        <div class="movie"  >
          <a href="movie1.html">
            <img src="images/images3.jpg" alt="" data-id="5">
            <div class="heart-icon">❤</div>
          </a>
        </div>
        <div class="movie"  >
          <a href="movie1.html">
            <img src="images/images2.jpg" alt="" data-id="5">
            <div class="heart-icon">❤</div>
          </a>
        </div>
        <div class="movie"  >
          <a href="movie1.html">
            <img src="images/images1.jpeg" alt="" data-id="5">
            <div class="heart-icon">❤</div>
          </a>
        </div>
        <div class="movie" data-id="1" data-title="Film 1">
          <a href="movie1.html">
            <img src="images/images.jpeg" alt="">
            <div class="heart-icon">❤</div>
          </a>
        </div>
    </div>
    
    <div id="comedy-gallery" class="gallery"> 
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img10.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img3.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img.jpeg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
    </div>
    
    <div id="horror-gallery" class="gallery"> 
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img7.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img6.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img5.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
    </div>
  
    <div id="romantic-gallery" class="gallery"> 
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img9.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img8.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img4.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
    </div>
  
    <div id="musical-gallery" class="gallery"> 
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img12.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img11.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img.11jpg.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
    </div>
  
    <div id="western-gallery" class="gallery"> 
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img14.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
      <div class="movie"  >
        <a href="movie1.html">
          <img src="images/img13.jpg" alt="" data-id="5">
          <div class="heart-icon">❤</div>
        </a>
      </div>
    </div>
    </section>
    <script>
        // URL'den kategori parametresini al
        const urlParams = new URLSearchParams(window.location.search);
        const selectedCategory = urlParams.get('category'); // Örneğin: "action"

        // Tüm galerileri seç
        const galleries = document.querySelectorAll('.gallery');

        // İlgili galeriyi aktif yap
        galleries.forEach(gallery => {
            if (gallery.id === `${selectedCategory}-gallery`) {
                gallery.classList.add('active');
            } else {
                gallery.classList.remove('active');
            }
        });
        document.querySelectorAll('.heart-icon').forEach(heartIcon => {
        heartIcon.addEventListener('click', addToMyList);
    });

    function addToMyList(event) {
    event.preventDefault();
    event.stopPropagation();

    const movie = event.target.closest('.movie');
    const movieId = movie.querySelector('img').dataset.id || movie.querySelector('img').alt;
    const movieName = movie.querySelector('img').alt;
    const movieImage = movie.querySelector('img').src;

    // LocalStorage işlemleri
    let myList = JSON.parse(localStorage.getItem('myList')) || [];
    const movieExists = myList.some(item => item.id === movieId);

    if (!movieExists) {
        myList.push({ id: movieId, name: movieName, image: movieImage });
        localStorage.setItem('myList', JSON.stringify(myList));
        alert(`${movieName} My List'e eklendi!`);
    } else {
        alert(`${movieName} zaten My List'te!`);
    }
}
    </script>
</body>
</html>